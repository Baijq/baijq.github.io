(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{434:function(s,a,e){"use strict";e.r(a);var n=e(62),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"mysql数据迁移-数据载入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据迁移-数据载入"}},[s._v("#")]),s._v(" MySQL数据迁移，数据载入")]),s._v(" "),e("h2",{attrs:{id:"一、数据迁移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、数据迁移"}},[s._v("#")]),s._v(" 一、数据迁移")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("登录到要迁出的机器上，导出数据；登录需要迁入的机器上，导入数据")])]),s._v(" "),e("li",[e("p",[s._v("导出文件，最常用的是导出sql脚本文件；")])]),s._v(" "),e("li",[e("p",[s._v("方式 "),e("kbd",[s._v("Navicat等")]),s._v(" 或者 "),e("kbd",[s._v("mysqldump")])])])]),s._v(" "),e("h3",{attrs:{id:"_1-mysql将数据从一个数据导入到另一个数据库-mysqldump"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-mysql将数据从一个数据导入到另一个数据库-mysqldump"}},[s._v("#")]),s._v(" 1.MySQL将数据从一个数据导入到另一个数据库 mysqldump")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("从源头数据库导出数据")]),s._v(" "),e("p",[e("strong",[e("code",[s._v("mysqldump -u 用户名 -p 数据库名 > 文件名称.sql")])])]),s._v(" "),e("p",[s._v("比如我下面这个例子，我是mysql在Docker里：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mysql "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n\nmysqldump -u root -p base "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" basedb.sql\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 就能看到basedb.sql文件了，接下来复制到宿主机")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出容器")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" mysql:/basedb.sql ./\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("把basedb.sql复制到需要导入数据的机器上 "),e("code",[s._v("C:\\Users\\biubiu\\Desktop\\basedb.sql")])])]),s._v(" "),e("li",[e("p",[s._v("导入数据，命令行切到桌面文件夹 "),e("code",[s._v("C:\\Users\\biubiu\\Desktop")])]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("mysql -uroot -p\ncreate database base "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("charset")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nuse base"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ./basedb.sql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])])]),s._v(" "),e("h2",{attrs:{id:"二、载入数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、载入数据"}},[s._v("#")]),s._v(" 二、载入数据")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("use base;\n#查看是否开启加载本地文件\nshow variables like 'local_infile';\n#开启全局本地文件设置\nset global local_infile=on;\n\nload data local infile './t_user.txt'\ninto table base.t_user \nfields terminated by ','\nlines terminated by '\\n'\nignore 1 lines;\n\nselect * from base.t_user;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);