(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{438:function(s,a,t){"use strict";t.r(a);var e=t(62),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"mysql大屏监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql大屏监控"}},[s._v("#")]),s._v(" MySQL大屏监控")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s1.ax1x.com/2022/11/27/zUYtN8.png",alt:"zUYtN8.png"}})]),s._v(" "),t("p",[s._v("需要这三个软件，win linux都有")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://s1.ax1x.com/2022/11/27/zUGjiD.png",alt:"zUGjiD.png"}})]),s._v(" "),t("h2",{attrs:{id:"一、mysqld-exporter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、mysqld-exporter"}},[s._v("#")]),s._v(" 一、MySQLd exporter")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("mysqld_exporter-0.14.0.windows-amd64文件夹下，需要配置下MySQL客户端")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# my.cnf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("password")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("localhost\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("启动 "),t("code",[s._v("mysqld_exporter.exe --config.my-cnf=./my.cnf")])])]),s._v(" "),t("li",[t("p",[s._v("访问 http://ip:9104")])])]),s._v(" "),t("h2",{attrs:{id:"二、prometheus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、prometheus"}},[s._v("#")]),s._v(" 二、prometheus")]),s._v(" "),t("p",[s._v("修改普罗米修斯配置文件,新增数据采集端 mysql http://ip:9090")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# prometheus.yml")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("static_configs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targets")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"localhost:9104"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"三、grafana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、grafana"}},[s._v("#")]),s._v(" 三、Grafana")]),s._v(" "),t("p",[s._v("http://ip:3000")]),s._v(" "),t("p",[s._v("初始密码：admin/admin")]),s._v(" "),t("p",[s._v("添加prometheus数据源")]),s._v(" "),t("p",[s._v("MySQL仪表盘 https://grafana.com/grafana/dashboards/7362-mysql-overview/")])])}),[],!1,null,null,null);a.default=n.exports}}]);